<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RRH Hero Animation</title>

    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="main.css" />
    <link rel="stylesheet" href="https://unpkg.com/feather-icons/dist/feather.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/MotionPathPlugin.min.js"></script>
    <script src="award.js"></script>
  </head>
</html>
<body>
    <div class="page-header">
      <div class="header-content">
        <a href="" class="brand-logo">
          <img src="r2h-logo.svg" width="120px" alt="R2H Logo" />
        </a>
        <div class="nav-toggle"><span>Menu</span><span>Close</span></div>
      </div>

      <div class="nav-container">
        <div class="nav-content">
          <div class="nav-left">
            <a href="#">Home</a>
            <a href="#">About Us</a>
            <a href="#">Our Ventures</a>
            <a href="#">Sustainability</a>
            <a href="#">Contact Us</a>
          </div>
          <div class="nav-right">
            <h3>Contact Details</h3>
            <p>
              Email<br />
              Info@r2h.com<br />
              support@r2h.com
            </p>
            <p>
              Phone<br />
              +91 9876543210<br />
              +91 9123456780
            </p>
            <div class="newsletter">
              <h2>Subscribe to our newsletter for news & insights</h2>
              <input type="email" placeholder="Subscribe to our newsletter" />
              <button>Subscribe</button>
            </div>
            <div class="social-icons">
              <a href="#"><i data-feather="facebook"></i> </a>
              <a href="#"><i data-feather="twitter"></i></a>
              <a href="#"><i data-feather="instagram"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="hero-section">
        <div class="intro">
            <div class="text-container" data-line1="Redefining" data-line2="Hospitality"></div>

        </div>
    </div>
    <script>
function buildAndAnimate() {
  const container = document.querySelector(".text-container");
  const text1 = container.dataset.line1;
  const text2 = container.dataset.line2;

  container.innerHTML = ""; // clear text

  let spans1 = [];
  let spans2 = [];

  // ================================
  // BUILD LINE 1 (Redefining)
  // ================================
  spans1 = [...text1].map(char => {
    const span = document.createElement("span");
    span.className = "text-char";
    span.textContent = char;
    span.style.position = "static"; // measure first
    container.appendChild(span);
    return span;
  });

  // Measure widths for line1
  const widths1 = spans1.map(s => s.offsetWidth);
  const totalWidth1 = widths1.reduce((a, b) => a + b, 0);
  const startX1 = (container.offsetWidth - totalWidth1) / 2;

  let posX1 = startX1;
  const finalPositions1 = widths1.map(w => {
    const x = posX1;
    posX1 += w;
    return x;
  });

  // Set absolute
  spans1.forEach(s => (s.style.position = "absolute"));

  // wide spread starting values
  const wideSpread = [-1200, -800, -600, -400, -200, 200, 350, 500, 650, 800];


  // ================================
  // BUILD LINE 2 (Hospitality)
  // ================================
  spans2 = [...text2].map(char => {
    const span = document.createElement("span");
    span.className = "text-char";
    span.textContent = char;
    span.style.position = "static"; // measure first
    container.appendChild(span);
    return span;
  });

  // Measure widths for line2
  const widths2 = spans2.map(s => s.offsetWidth);
  const totalWidth2 = widths2.reduce((a, b) => a + b, 0);
  const startX2 = (container.offsetWidth - totalWidth2) / 2;

  let posX2 = startX2;
  const finalPositions2 = widths2.map(w => {
    const x = posX2;
    posX2 += w;
    return x;
  });

  // Set absolute and vertical position for line2
  spans2.forEach((s, i) => {
    s.style.position = "absolute";
    s.style.top = "90px"; // second line vertical placement
  });


  // ================================
  // GSAP TIMELINE
  // ================================
  const tl = gsap.timeline();

  // LINE 1 animation
  tl.fromTo(
    spans1,
    {
      x: i => wideSpread[i] || -200,
      opacity: 0
    },
    {
      x: i => finalPositions1[i],
      opacity: 1,
      duration: 1.7,
      ease: "power3.out",
      stagger: 0.05
    }
  );

  // LINE 2 animation (AFTER line1 finishes)
  tl.fromTo(
    spans2,
    {
      x: i => finalPositions2[i],
      y: 30,
      opacity: 0
    },
    {
      x: i => finalPositions2[i],
      y: 0,
      opacity: 1,
      duration: 1.2,
      ease: "power3.out",
      stagger: 0.03
    },
    "+=0.1" // start slightly after
  );

  tl.add(() => {

  const allChars = document.querySelectorAll(".text-char");

  const R = spans1[0]; // first letter of line 1
  const H = spans2[0]; // first letter of line 2

  // 1. Fade out everything except R and H
  allChars.forEach(span => {
    if (span !== R && span !== H) {
      gsap.to(span, { opacity: 0, duration: 0.4 });
    }
  });

  // 2. Move R & H to center
  const container = document.querySelector(".text-container");
  const center = container.offsetWidth / 2;

  const rWidth = R.offsetWidth;
  const hWidth = H.offsetWidth;

  const rTarget = center - rWidth - 20;
  const hTarget = center + 20;

  gsap.to(R, {
    x: rTarget,
    duration: 1,
    ease: "power3.inOut"
  });

  gsap.to(H, {
    x: hTarget,
    duration: 1,
    ease: "power3.inOut"
  });

});
}

window.addEventListener("load", buildAndAnimate);
window.addEventListener("resize", buildAndAnimate);



    </script>
  </body>
</html>